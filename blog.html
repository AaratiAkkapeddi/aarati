<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aarati</title>
    <link rel="stylesheet" href="main.css">
    <link rel="stylesheet" href="blog.css">
</head>
<body>
    <div id='bg-nav'><div class="bg"></div></div>
    <div class="bg"></div>
    <!-- Navigation -->
    <nav>
        <ul class="left">
            <li><a href="/">AARATI AKKAPEDDI</a></li>
            <li><div id="message">
                <img src='assets/closed.svg'/><img src='assets/open.svg'/>
                <span><em>A message for you</em></span>
                <div id="message-inner">
                    <p>
                        Dear Reader,<br>
                        <blockquote>   Thank you for taking the time to look through my work. It means a lot to me.
                            In the top right corner of this page you will find a drop down menu with links to an <a href="./about.html">about page</a>, <a href="/">selected works</a>, <a href="/blog.html">blog</a> and more. <br> If you are looking for my web development/design work, you may want to check out <a href="./coding.html">this page.</a> You can contact me directly at <a href="mailto:aarati.akkapeddi@gmail.com">aarati.akkapeddi@gmail.com</a></blockquote>
                        Sending you my best,
                        <blockquote>Aarati Akkapeddi<span id='blinking-cursor'></span></blockquote></p>
                </div>
                <div id="message-outer"></div>
            </div></li>
        </ul>
        <ul class="right">
            <li>
              Currently Viewing:  
                <select id="main-menu" autocomplete="off">
                    <option value="./blog.html">Blog</option>
                    <option value="./about.html">About</option>
                    <option value="./">Selected Works</option>
                    <option value="./coding.html">Coding</option>
                    <option value="./teaching.html">Teaching</option>
                </select>
            </li>

        </ul>
    </nav>
    <!-- End Navigation -->

    <!-- MAIN CONTENT -->
    <main>
        <div id="scrub-container">
            <span id="start">start</span>
            <span id="end">end</span>
            <input id="page-scrub" type="range" name="page-scrub" 
            min="1" max="100" value="1" step="1">
        </div><br><br>
 This is my blog where I post experiments and write about news, projects, and ideas.<br> Feel free to view/subscribe to my email newsletter <a style="text-decoration:underline" href="https://aarati.substack.com/">on substack →</a><br><br>

    </main>



    <!-- Nav js-->
    <script>
        window.onload = function(){
            let select = document.querySelector("#main-menu")
            select.selectedIndex = 0
            select.addEventListener("change",function(){
                window.location.href = this.value;
            })

            let open = document.querySelector("#message img:nth-child(1)");
            open.addEventListener("click", function(){
                document.querySelector("#message").classList.add('on')
            })
            let open2 = document.querySelector("#message em");
            open2.addEventListener("click", function(){
                document.querySelector("#message").classList.add('on')
            })
            let close = document.querySelector("#message img:nth-child(2)");
            close.addEventListener("click", function(){
                document.querySelector("#message").classList.remove('on')
            })
            let close2 = document.querySelector("#message-outer");
            close2.addEventListener("click", function(){
                document.querySelector("#message").classList.remove('on')
            })
        }
    </script>


    <!-- BLOG JS -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
    <script type="text/javascript">
		const RSS_URL = `https://api.rss2json.com/v1/api.json?rss_url=https%3A%2F%2Faarati.substack.com%2Ffeed`;

			

		$.ajax(RSS_URL, {
		  accepts: {
		    xml: "application/rss+xml"
		  },

		  dataType: "jsonp",

		  success: function(data) {
            let scrub = document.querySelector("#page-scrub");
            scrub.max = data.items.length;
            let start = document.querySelector("#start");
            start.innerHTML = data.items[0].pubDate.split(" ")[0]
            let end = document.querySelector("#end");
            end.innerHTML = data.items[data.items.length - 1].pubDate.split(" ")[0]
		    $(data.items).each(function() {
		        const el = $(this);
		        const blogNav = $("#blog-nav");
		        let li = $("<li></li>");
		        let navLink = $("<a></a>");
		        navLink.attr("href", "#"+this.title.split(" ").join("-"));
		        navLink.text(this.title);
		        li.append(navLink);
		        blogNav.append(li);
		        const template = `
		          <hr>
		          <article id="${this.title.split(" ").join("-")}">
		            <h2>
		              
		              <span style="text-align:left;margin-top:5px;margin-bottom:10px;display:inline-block;padding:5px;" class="image-caption">${this.pubDate.split(" ")[0]}</span><br>
		                ${this.title.length > 50 ? this.title.substring(0,50) + "..." : this.title}

                        <a class='button' href="${this.link}" target="_blank" rel="noopener">(Longer post) Read more on Substack → </a>
		            </h2>
		      
		          </article>
		        `;
      // <p>${this.content}</p>
		        document.querySelector('main').insertAdjacentHTML("beforeend", template);
		      });
		  }
		});
	</script>
</body>
</html>